# DebugFS GUI (Protected Mode)

Графическая оболочка на Python (Tkinter) для работы с утилитой `debugfs`.
Проект предназначен для анализа и диагностики файловых систем семейства ext (ext2/ext3/ext4) с упором на безопасность и удобство использования.

## Возможности

* Графический интерфейс для `debugfs`
* Безопасный режим (Safe Mode) по умолчанию:

  * блокирует команды, изменяющие файловую систему
  * требует ручного подтверждения (`CONFIRM`) для опасных операций
* Выполнение команд `debugfs` вручную и через интерактивные формы
* Дерево файловой системы с возможностью:

  * просмотра содержимого (`ls -l`)
  * двойного клика по файлу для выполнения `stat`
* История выполненных команд
* Логирование всех операций в файл
* Набор готовых тестовых сценариев для диагностики файловой системы

## Поддерживаемые команды

Через интерфейс можно выполнять любые команды `debugfs`, в том числе:

* `ls -l [path]`
* `stat <inode>`
* `pwd`, `cd <path>`
* `stats`
* `ncheck <inode>`
* `icheck <block>`
* `dump <inode> <outfile>`
* `readblock <block> <outfile>`

Для потенциально опасных команд (`write`, `rm`, `mkdir`, `set_inode` и др.) применяется дополнительная защита.

## Требования

* Linux
* Python 3.8+
* Установленная утилита `debugfs` (пакет `e2fsprogs`)
* Tkinter (обычно входит в стандартную поставку Python)
* Права root или корректно настроенный `sudo`

## Установка

1. Установите зависимости:

   ```bash
   sudo apt install e2fsprogs python3-tk
   ```

2. Склонируйте репозиторий:

   ```bash
   git clone https://github.com/your-username/debugfs-gui.git
   cd debugfs-gui
   ```

3. Запустите программу:

   ```bash
   python3 gui.py
   ```

## Использование

1. Укажите путь к устройству или образу диска (например, `/dev/sdb1` или `disk.img`)
2. При необходимости включите опцию «Использовать sudo»
3. Нажмите «Получить инфо FS» для проверки подключения
4. Используйте:

   * вкладку **Команды** для ручного управления
   * вкладку **Файловая система** для визуального просмотра
   * вкладку **Тестовые сценарии** для автоматической диагностики

## Safe Mode

Safe Mode включён по умолчанию и:

* блокирует команды, которые могут изменить файловую систему
* предотвращает случайное повреждение данных

Для выполнения опасных операций необходимо:

1. Отключить Safe Mode
2. Ввести слово `CONFIRM` в окне подтверждения

Рекомендуется работать только с копиями образов дисков.

## Тестовые сценарии

В программе реализованы готовые сценарии, включая:

* получение общей информации о ФС
* анализ корневого каталога
* проверку inode и блоков
* комплексную диагностику структуры файловой системы

Сценарии выполняются автоматически и отображают результат в интерфейсе.

## Логирование

Все действия записываются в файл:

```
debugfs_gui.log
```

Формат записи включает дату, время и тип операции.

## Ограничения и предупреждения

* Программа не заменяет полноценные инструменты восстановления данных
* Неправильное использование `debugfs` может привести к повреждению ФС
* Используйте только на тестовых системах или копиях образов
